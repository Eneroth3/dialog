<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Control Example</title>
    <script src="../modules/jquery-1.12.4.js"></script>
    <script src="../modules/controls.js"></script>
    <script>
      // Initialize the controls when the document is ready.
      $(document).ready(function() {
        Controls();
      } );

      // In an extension these callbacks are defined on the Ruby side.
      if (typeof sketchup === 'undefined') var sketchup = [];
      sketchup.ok = function() {
        alert('The SketchUp ok callback was called.');
      }
      sketchup.cancel = function() {
        alert('The SketchUp cancel callback was called.');
      }
      sketchup.foo = function() {
        alert('The SketchUp foo callback was called.');
      }
    </script>
  </head>
  <body>
    <p>
      SketchUp callbacks are assigned to buttons with the class "dlg-{action}"
      where {action} is the callback name.
    </p>
    <p>
      By specifying an access key (shown by underline) users can quickly trigger
      the action by pressing Alt+{access key}. This can speed up the work flow
      for the user, especially when they used a keyboard shortcut, rather than a
      mouse click, to open the dialog in the first place.
      <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/bb226831(v=vs.85).aspx">
      Microsoft developer guidelines for access keys</a>.
    </p>
    <button class="dlg-foo" data-access-key="f">Foo</button>
    <button data-access-key="b">Bar</button>
    <p>
      If you first want to process data on the JS side before making a callback,
      you can define your own onclick function or event listener instead of
      setting the class.
    </p>
    <button data-access-key="z" onclick="alert('This JS code is defined in the onclick attribute.');">Baz</button>
    <p>
      Access keys can be specified for buttons, inputs and textareas.
      For inputs and textareas they focus the element rather than triggering an
      action.
    </p>
    <label>Text:<input type="text" data-access-key="t" /></label><br />
    <label for="otherText">Other text:</label><input id="otherText" type="text" data-access-key="o" /><br />
    <label>Textarea:<br /><textarea data-access-key="a">Text</textarea></label><br />
    <label for="otherTextarea">Other textarea:<br /></label><textarea id="otherTextarea" data-access-key="r">Text</textarea><br />

    <label><input type="checkbox" name="1" data-access-key="c" />Checkbox 1</label><br />
    <input type="checkbox" name="2" id="ch" data-access-key="x" /><label for="ch">Checkbox 2</label><br />
    <p>
      TODO: Improve documentation (and fix Enter).
      Don't assign access keys for OK, Cancel and Close.
      Cancel and both Close uses Esc as shortcut (and can't coexist in the same dialog).
      OK should be the default action when pressing Enter anywhere on page
      where there isn't another Enter action (inside a textarea or when another button is focused).
      Either implement in JS or wrap dialog in a form and make OK be the submit button.
      OK and (in most cases) Yes should be focused on document load (by autofocus attribute).
    </p>
    <button class="dlg-ok" autofocus>OK</button>
    <button class="dlg-cancel">Cancel</button>

  </body>
</html>
